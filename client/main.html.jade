head
  meta(charset="utf-8")
  title Starlifter
  
  meta(name='viewport' content='width=device-width, initial-scale=1.0')

  //link(href="http://www.jonikorpi.com/images/avatar-570316eb.png" rel="icon" type="image/png")
  //link(rel="apple-touch-icon" type="image/png" href="http://www.jonikorpi.com/images/avatar-570316eb.png")
  // meta(name="msapplication-TileColor" content="#000000")
  //meta(name="msapplication-TileImage" content=image_url("avatar.png"))
  
  //- "Social icons"
  //meta(property="og:image"      content=image_url("avatar.png"))
  //meta(property="twitter:image" content=image_url("avatar.png"))

  //- URLs
  //meta(property="og:url"      content=current_page_url)
  //link(rel="canonical"           href=current_page_url)
  //meta(property="twitter:url" content=current_page_url)

  //- Titles
  //meta(property="og:title"      content=data.page.title)
  //meta(property="og:site_name"  content="Joni Korpi")
  //meta(property="twitter:title" content=data.page.title)

  //- Descriptions
  // %meta{property: "og:description",      content: ""})
  // %meta{name: "description",             content: ""})
  // %meta{property: "twitter:description", content: ""})

  //- Other crap
  meta(property="og:type"      content="website")
  meta(property="og:locale"    content="en_GB")
  meta(content="summary"      property="twitter:card")
  meta(content="@jonikorpi"   property="twitter:site")
  meta(name="format-detection" content="telephone=no")

body

template(name="layout")
  +yield
  
template(name="notFound")
  +header
  h1 Fleet not found
  
template(name="loading")
  +header
  h1 Loadingâ€¦
  
template(name="header")
  .header.abs-top-left.no-margins
    strong
      a(href="/") Starlifter
    button.button.start-fleet(type="button") New fleet
    a(href=pathFor "game") Secret link to this fleet
  
template(name="home")
  +header
  //- 
  //- p All fleets:
  //- 
  //- ul
  //-   each fleets
  //-     li
  //-       a(href=_id) #{_id}
  

template(name="game")
  +header
  .game.abs-all.no-margins(id=_id)
    
    .backdrop.abs-all
      +backdrop(xPos=xPos yPox=yPos)
    
    .grid-container.no-margins.abs-all
      .grid.abs-all
        each stars
          +star
        each planets
          +planet
        each otherFleets
          +fleet
        +fleet
        .movement-controls.abs-all
          button.zoom-in(type="button")
    button.zoom-out.button(type="button") ESC
        
    +cheats
        
template(name="backdrop")
  .backdrop-color.abs-all
  
  .layers.abs-all
    .layer.layer-1.abs-top-left($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-left($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-right($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-top($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-bottom($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-top-left($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-top-right($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-bottom-left($dyn=layer1)
    .layer.layer-1.abs-top-left.layer-bottom-right($dyn=layer1)
    
    .layer.layer-2.abs-top-left($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-left($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-right($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-top($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-bottom($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-top-left($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-top-right($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-bottom-left($dyn=layer2)
    .layer.layer-2.abs-top-left.layer-bottom-right($dyn=layer2)
    
    .layer.layer-3.abs-top-left($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-left($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-right($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-top($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-bottom($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-top-left($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-top-right($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-bottom-left($dyn=layer3)
    .layer.layer-3.abs-top-left.layer-bottom-right($dyn=layer3)
  
template(name="fleet")
  .fleet.entity.abs-all.rendering-in($dyn=fleetAttributes)
    .fleet-name #{name}
    .fleet-model.abs-all
      .ships.abs-all
        each ships
          .ship
            each this
              .module(data-module-id=this)
    .debug-dialog 
      strong #{name}
      .debug-line
        strong Secret
        span #{secretUrl}
      .debug-line
        strong Invite code
        span #{secretInvite}
      .debug-line
        strong Started
        span #{createdAt}
        .debug-line
          strong Last Move
          span #{lastMove}
      .debug-line
        strong ID
        span #{_id}
      .debug-line
        strong Loc 
        span #{loc}
      
template(name="star")
  .star.abs-all.entity.rendering-in($dyn=starAttributes)
    .star-scaler.abs-all($dyn=starScaling)
      .star-name.abs-center #{name}
      .star-model.abs-all($dyn=starModel)
    .debug-dialog
      strong #{name}
      .debug-line
        strong ID
        span #{_id}
      .debug-line
        strong Loc
        span #{loc}
      .debug-line
        strong Energy 
        span #{energy}
      .debug-line
        strong Max energy 
        span #{maxEnergy}
        
template(name="planet")
  .planet.abs-all.entity.rendering-in($dyn=planetAttributes)
    .planet-scaler.abs-all($dyn=planetScaling)
      .planet-name.abs-center #{name}
      .planet-model.abs-all($dyn=planetModel)
    .debug-dialog
      strong #{name}
      .debug-line
        strong ID
        span #{_id}
      .debug-line
        strong Loc
        span #{loc}
      .debug-line
        strong Resources 
        span #{resources}
      .debug-line
        strong Max resources 
        span #{maxResources}

template(name="cheats")
  .cheats.abs-top-right
    button.button.random-planet(type="button") Random planet
    button.button.random-star(type="button") Random star
    button.button.random-spot(type="button") Random spot
